<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø²ÙƒØ§Ø©</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#22c55e" />

  <style>
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:#0f172a;
      font-family: system-ui, -apple-system, BlinkMacSystemFont;
      color:#fff;
    }
    .app{
      width:100%;
      max-width:420px;
      background:#020617;
      border-radius:16px;
      padding:20px;
      box-shadow:0 10px 40px rgba(0,0,0,.5);
    }
    h1{
      text-align:center;
      margin-bottom:15px;
    }
    select,input,button{
      width:100%;
      padding:12px;
      margin:8px 0;
      border-radius:10px;
      border:none;
      font-size:16px;
    }
    input,select{
      background:#020617;
      color:#fff;
      border:1px solid #334155;
    }
    button{
      background:#22c55e;
      color:#000;
      font-weight:bold;
      cursor:pointer;
    }
    .result{
      margin-top:15px;
      padding:12px;
      background:#020617;
      border-radius:10px;
      border:1px solid #334155;
      text-align:center;
    }
    .footer{
      margin-top:12px;
      font-size:13px;
      text-align:center;
      opacity:.7;
    }
  </style>
</head>

<body>
  <div class="app">
    <h1>ğŸ•Œ Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø²ÙƒØ§Ø©</h1>

    <select id="madhab">
      <option value="jumhur">Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± (Ø§Ù„Ù†ØµØ§Ø¨ Ø¨Ø§Ù„Ø°Ù‡Ø¨)</option>
      <option value="hanafi">Ø§Ù„Ø­Ù†ÙÙŠ (Ø§Ù„Ù†ØµØ§Ø¨ Ø¨Ø§Ù„ÙØ¶Ø©)</option>
    </select>

    <input id="money" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±" />

    <button onclick="calc()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø²ÙƒØ§Ø©</button>

    <div class="result" id="result">
      Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø«Ù… Ø§Ø¶ØºØ· Ø§Ø­Ø³Ø¨
    </div>

    <div class="footer">
      Ø§Ù„Ø²ÙƒØ§Ø© 2.5% â€“ Ø­Ø³Ø§Ø¨ ØªÙ‚Ø±ÙŠØ¨ÙŠ
    </div>
  </div>

  <script>
    function calc(){
      const money = Number(document.getElementById("money").value);
      const madhab = document.getElementById("madhab").value;
      const result = document.getElementById("result");

      // Ø£Ø³Ø¹Ø§Ø± ØªÙ‚Ø±ÙŠØ¨ÙŠØ© (ØªÙØ¹Ø¯Ù‘Ù„ Ù„Ø§Ø­Ù‚Ù‹Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠ)
      const goldNisab = 85 * 75;     // Ø°Ù‡Ø¨
      const silverNisab = 595 * 0.8; // ÙØ¶Ø©

      const nisab = madhab === "hanafi" ? silverNisab : goldNisab;

      if(!money || money <= 0){
        result.innerText = "âŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­";
        return;
      }

      if(money < nisab){
        result.innerText = "âŒ Ù„Ù… ÙŠØ¨Ù„Øº Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ù†ØµØ§Ø¨";
      }else{
        const zakat = money * 0.025;
        result.innerText = "âœ… Ø§Ù„Ø²ÙƒØ§Ø© Ø§Ù„ÙˆØ§Ø¬Ø¨Ø©: " + zakat.toFixed(2) + " Ø¯ÙˆÙ„Ø§Ø±";
      }
    }

    // ØªØ³Ø¬ÙŠÙ„ Service Worker
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js");
    }
  </script>
</body>
</html>
